(()=>{var e={293:(e,t,o)=>{"use strict";o.d(t,{A:()=>a});var i=o(601),s=o.n(i),r=o(314),n=o.n(r)()(s());n.push([e.id,".add-to-car{position:fixed;color:#fff;font-size:23rem;line-height:40rem;text-align:center;z-index:9;margin-left:-20rem;margin-top:-20rem;left:0;top:0;-webkit-transition:.5s linear;transition:.5s linear}.add-to-car .iconfont{width:40rem;height:40rem;background:#4a90e1;border-radius:50%;display:block;-webkit-transition:.5s cubic-bezier(0.5, -0.5, 1, 1);transition:.5s cubic-bezier(0.5, -0.5, 1, 1)}",""]);const a=n},337:(e,t,o)=>{"use strict";o.d(t,{A:()=>a});var i=o(601),s=o.n(i),r=o(314),n=o.n(r)()(s());n.push([e.id,"dialog{border:none;position:fixed;top:25%;left:20%}",""]);const a=n},592:(e,t,o)=>{"use strict";o.d(t,{A:()=>a});var i=o(601),s=o.n(i),r=o(314),n=o.n(r)()(s());n.push([e.id,"@import url(https://at.alicdn.com/t/c/font_3555577_me2a6tdmvu8.css);"]),n.push([e.id,'*,*::before,*::after{margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}html{font-size:.125vw}body{font-size:35rem;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Microsoft Yahei","sans-serif"}a{color:inherit;-webkit-text-decoration:none;text-decoration:none}.iconfont{font-size:inherit}',""]);const a=n},284:(e,t,o)=>{"use strict";o.d(t,{A:()=>a});var i=o(601),s=o.n(i),r=o(314),n=o.n(r)()(s());n.push([e.id,'.container{position:fixed;left:0;top:0;width:100%;height:calc(100% - 100rem);display:-webkit-box;display:-ms-flexbox;display:flex;color:#333}.container .menu{background:#f5f5f5;width:190rem;overflow-y:scroll;padding-bottom:50rem;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.container .menu::-webkit-scrollbar{width:0}.container .menu .menu-item{height:141rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 30rem;position:relative}.container .menu .menu-item span{font-size:30rem;line-height:40rem;max-height:80rem;overflow:hidden}.container .menu .menu-item.active{font-weight:bold;background:#fff}.container .menu .menu-item.active::before{content:"";position:absolute;left:0;height:100%;width:7.5rem;background:#3190e8}.container .goods-list{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow-y:scroll}.container .goods-list::-webkit-scrollbar{width:0}.container .goods-list .goods-item{border-bottom:1rem solid #f8f8f8;padding:30rem 20rem;display:-webkit-box;display:-ms-flexbox;display:flex}.container .goods-list .goods-item .goods-pic{width:200rem;height:200rem;-o-object-fit:contain;object-fit:contain;border:1rem solid rgba(0,0,0,.06);-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.container .goods-list .goods-item .goods-info{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding:0 35rem;overflow:hidden}.container .goods-list .goods-item .goods-info .goods-title{font-size:35rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:20rem}.container .goods-list .goods-item .goods-info .goods-desc{font-size:24rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:20rem}.container .goods-list .goods-item .goods-info .goods-sell{color:#858687;font-size:24rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:20rem;display:-webkit-box;display:-ms-flexbox;display:flex}.container .goods-list .goods-item .goods-info .goods-sell span:first-child{margin-right:18rem}.container .goods-list .goods-item .goods-info .goods-confirm{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.container .goods-list .goods-item .goods-info .goods-confirm .goods-price{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:35rem;font-weight:bold;color:#f60;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.container .goods-list .goods-item .goods-info .goods-confirm .goods-price .goods-price-unit{font-size:25rem;margin-bottom:4rem;font-weight:normal}.container .goods-list .goods-item .goods-info .goods-confirm .goods-btns{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.container .goods-list .goods-item .goods-info .goods-confirm .goods-btns .iconfont{width:40rem;height:40rem;background:#4a90e1;color:#fff;border-radius:50%;font-size:23rem;line-height:40rem;text-align:center}.container .goods-list .goods-item .goods-info .goods-confirm .goods-btns span{margin:0 15rem;display:none}.container .goods-list .goods-item .goods-info .goods-confirm .goods-btns .i-jianhao{border:1rem solid #4a90e1;background:#fff;color:#4a90e1;font-weight:bold;display:none}.container .goods-list .goods-item.active .goods-info .goods-confirm .goods-btns span,.container .goods-list .goods-item.active .goods-info .goods-confirm .goods-btns .i-jianhao{display:block}',""]);const a=n},538:(e,t,o)=>{"use strict";o.d(t,{A:()=>a});var i=o(601),s=o.n(i),r=o(314),n=o.n(r)()(s());n.push([e.id,".footer{height:100rem;color:#fff;position:fixed;left:0;bottom:0;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;z-index:10}.footer .footer-car-container{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;background:#3d3d3f;padding-left:175rem;position:relative}.footer .footer-car-container .footer-car{position:absolute;width:118rem;height:118rem;border:9rem solid #444;left:25rem;top:-35rem;border-radius:50%;background:inherit;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:60rem}.footer .footer-car-container .footer-car.active{background:#4a90e1}.footer .footer-car-container .footer-car.active .footer-car-badge{display:block}.footer .footer-car-container .footer-car.animate{-webkit-animation:footer-car-animate 500ms ease-in-out;animation:footer-car-animate 500ms ease-in-out}.footer .footer-car-container .footer-car .footer-car-badge{position:absolute;width:35rem;height:35rem;background:#ec5533;font-size:25rem;text-align:center;border-radius:50%;line-height:35rem;right:0;top:0;display:none}.footer .footer-car-container .footer-car-price{font-size:40rem;display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:5rem}.footer .footer-car-container .footer-car-tip{font-size:20rem;margin-left:6rem}.footer .footer-pay{background:#535356;width:250rem;font-size:35rem;line-height:100rem;text-align:center}.footer .footer-pay>*{display:block;width:100%;height:100%}.footer .footer-pay a{display:none}.footer .footer-pay span{font-size:30rem}.footer .footer-pay.active{background:#76d572}.footer .footer-pay.active a{display:block}.footer .footer-pay.active span{display:none}@-webkit-keyframes footer-car-animate{0%{-webkit-transform:scale(1);transform:scale(1)}25%{-webkit-transform:scale(0.8);transform:scale(0.8)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}75%{-webkit-transform:scale(0.9);transform:scale(0.9)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes footer-car-animate{0%{-webkit-transform:scale(1);transform:scale(1)}25%{-webkit-transform:scale(0.8);transform:scale(0.8)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}75%{-webkit-transform:scale(0.9);transform:scale(0.9)}100%{-webkit-transform:scale(1);transform:scale(1)}}",""]);const a=n},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",i=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),i&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),i&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,i,s,r){"string"==typeof e&&(e=[[null,e,void 0]]);var n={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(n[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);i&&n[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),o&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=o):l[2]=o),s&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=s):l[4]="".concat(s)),t.push(l))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},72:e=>{"use strict";var t=[];function o(e){for(var o=-1,i=0;i<t.length;i++)if(t[i].identifier===e){o=i;break}return o}function i(e,i){for(var r={},n=[],a=0;a<e.length;a++){var c=e[a],d=i.base?c[0]+i.base:c[0],l=r[d]||0,f="".concat(d," ").concat(l);r[d]=l+1;var m=o(f),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)t[m].references++,t[m].updater(p);else{var u=s(p,i);i.byIndex=a,t.splice(a,0,{identifier:f,updater:u,references:1})}n.push(f)}return n}function s(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,s){var r=i(e=e||[],s=s||{});return function(e){e=e||[];for(var n=0;n<r.length;n++){var a=o(r[n]);t[a].references--}for(var c=i(e,s),d=0;d<r.length;d++){var l=o(r[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}r=c}}},659:e=>{"use strict";var t={};e.exports=function(e,o){var i=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(o)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,o)=>{"use strict";e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var i="";o.supports&&(i+="@supports (".concat(o.supports,") {")),o.media&&(i+="@media ".concat(o.media," {"));var s=void 0!==o.layer;s&&(i+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),i+=o.css,s&&(i+="}"),o.media&&(i+="}"),o.supports&&(i+="}");var r=o.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},715:(e,t,o)=>{var i={"./collection.png":596,"./g1.png":312,"./g10.png":418,"./g2.png":163,"./g3.png":34,"./g4.png":381,"./g5.png":252,"./g6.png":159,"./g7.png":142,"./g8.png":297,"./g9.png":680};function s(e){var t=r(e);return o(t)}function r(e){if(!o.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=r,e.exports=s,s.id=715},596:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/b71c48c6dc7600676ec7.png"},312:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/33423633d3ad23005d2b.png"},418:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/b6055bc6e6ddc9e65235.png"},163:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/fbd82321bf3bb648d610.png"},34:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/bd1e5311f2837211201a.png"},381:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/41e0330b85b5847aed75.png"},252:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/bb8f91798c1d88cff65a.png"},159:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/5d30b626047290365e41.png"},142:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/3ef4115ed42250d3f645.png"},297:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/edf32b08bc724025fc9b.png"},680:(e,t,o)=>{"use strict";e.exports=o.p+"static/images/eb154e634b2ae09cda2a.png"}},t={};function o(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=i[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e+"../../"})(),o.nc=void 0,(()=>{"use strict";var e=o(72),t=o.n(e),i=o(825),s=o.n(i),r=o(659),n=o.n(r),a=o(56),c=o.n(a),d=o(540),l=o.n(d),f=o(113),m=o.n(f),p=o(293),u={};u.styleTagTransform=m(),u.setAttributes=c(),u.insert=n().bind(null,"head"),u.domAPI=s(),u.insertStyleElement=l(),t()(p.A,u),p.A&&p.A.locals&&p.A.locals;var g=o(337),h={};h.styleTagTransform=m(),h.setAttributes=c(),h.insert=n().bind(null,"head"),h.domAPI=s(),h.insertStyleElement=l(),t()(g.A,h),g.A&&g.A.locals&&g.A.locals;var b=o(592),v={};v.styleTagTransform=m(),v.setAttributes=c(),v.insert=n().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=l(),t()(b.A,v),b.A&&b.A.locals&&b.A.locals;var x=o(284),y={};y.styleTagTransform=m(),y.setAttributes=c(),y.insert=n().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=l(),t()(x.A,y),x.A&&x.A.locals&&x.A.locals;var w=o(538),k={};k.styleTagTransform=m(),k.setAttributes=c(),k.insert=n().bind(null,"head"),k.domAPI=s(),k.insertStyleElement=l(),t()(w.A,k),w.A&&w.A.locals&&w.A.locals;const A=[{pic:"g1",title:"椰云拿铁",desc:"1人份【年度重磅，一口吞云】\n    √原创椰云topping，绵密轻盈到飞起！\n    原创瑞幸椰云™工艺，使用椰浆代替常规奶盖\n    打造丰盈、绵密，如云朵般细腻奶沫体验\n    椰香清甜饱满，一口滑入口腔\n    \n    【饮用建议】请注意不要用吸管，不要搅拌哦~",sellNumber:200,favorRate:95,price:32,from:0},{pic:"g2",title:"生椰拿铁",desc:"1人份【YYDS，无限回购】\n    现萃香醇Espresso，遇见优质冷榨生椰浆，椰香浓郁，香甜清爽，带给你不一样的拿铁体验！\n    \n    主要原料：浓缩咖啡、冷冻椰浆、原味调味糖浆\n    图片及包装仅供参考，请以实物为准。建议送达后尽快饮用。到店饮用口感更佳。",sellNumber:1e3,favorRate:100,price:19.9,from:0},{pic:"g3",title:"加浓 美式",desc:"1人份【清醒加倍，比标美多一份Espresso】\n    口感更佳香醇浓郁，回味持久\n    图片仅供参考，请以实物为准。建议送达后尽快饮用。",sellNumber:200,favorRate:93,price:20.3,from:0},{pic:"g4",title:"瓦尔登蓝钻瑞纳冰",desc:"1人份【爆款回归！蓝色治愈力量】\n    灵感来自下澄明、碧蓝之境---瓦尔登湖。含藻蓝蛋白，梦幻蓝色源自天然植物成分，非人工合成色素，融入人气冷榨生椰浆，椰香浓郁，清冽冰爽；底部添加Q弹小料，0脂原味晶球，光泽剔透，如钻石般blingbling。搭配奶油顶和彩虹色棉花糖，满足你的少女心～\n    【去奶油小提示】由于去掉奶油后顶料口味会受影响，为保证口感，选择“去奶油”选项时将同时去掉奶油及顶料，请注意哦！【温馨提示】瑞纳冰系列产品形态为冰沙，无法进行少冰、去冰操作，请您谅解。【图片仅供参考，请以实物为准】",sellNumber:17,favorRate:80,price:38,from:1},{pic:"g5",title:"椰云精萃美式",desc:"1人份【不用吸管 大口吞云！】\n\n    1杯热量*≈0.6个苹果！\n    原创瑞幸椰云™工艺，将「椰浆」变成绵密、丰盈的“云朵”，口感绵密顺滑！0乳糖植物基，清爽轻负担！\n    \n    *数据引自《中国食物成分表》第六版，苹果每100克可食部分中能量约为53千卡，以每个苹果250克/个计，1杯椰云精萃美式约80千卡，相当于约0.6个苹果。\n    【图片仅供参考，请以实物为准】",sellNumber:50,favorRate:90,price:21.12,from:1},{pic:"g6",title:"焦糖咖啡星冰乐",desc:"1人份【细腻醇香！】\n\n    <含咖啡>星冰乐烘焙咖啡与牛奶和冰块一同搅打出细腻醇香的冰沙，浓郁焦糖酱在搅打稀奶油上旋转出夏日的雀跃！\n    \n    主要原料：焦糖味酱，牛奶，冰块，星冰乐咖啡风味糖浆，搅打稀奶油",sellNumber:55,favorRate:86,price:26.3,from:2},{pic:"g7",title:"焦糖咖啡星冰乐",desc:"1人份【细腻醇香！】\n\n    <含咖啡>星冰乐烘焙咖啡与牛奶和冰块一同搅打出细腻醇香的冰沙，浓郁焦糖酱在搅打稀奶油上旋转出夏日的雀跃！\n    \n    主要原料：焦糖味酱，牛奶，冰块，星冰乐咖啡风味糖浆，搅打稀奶油",sellNumber:45,favorRate:89,price:18.8,from:2},{pic:"g8",title:"摩卡可可碎片星冰乐",desc:"1人份【浓郁醇香！】\n\n    摩卡酱和咖啡在冰块的碰撞下魅力四射，可可碎片带来不同的口感，顶部覆以稀奶油与摩卡酱，让浓郁变得更加有趣。(可可碎片为代可可脂巧克力)！\n    \n    主要原料：星冰乐咖啡风味糖浆，摩卡酱，冰块，牛奶，搅打稀奶油",sellNumber:72,favorRate:95,price:29.9,from:3},{pic:"g9",title:"红茶拿铁",desc:"1人份【茶瓦纳™】\n\n    <不含咖啡>优质红茶在蒸奶中慢慢的呈现出温和的口感，以柔和的奶泡锁住茶香，加以经典风味酱。这是红茶与牛奶的对话，优雅品享红茶文化！\n    \n    主要原料：牛奶，香草味糖浆",sellNumber:23,favorRate:94,price:18.8,from:4},{pic:"g10",title:"卡布奇诺",desc:"1人份【手工调制浓缩咖啡！】\n\n    <含咖啡>蒸煮牛奶与浓缩咖啡相融合，用丰厚绵密的奶泡覆顶，再撒上肉桂粉或可可粉！\n    \n    温馨提示：在奶泡消融前，请尽快享用。",sellNumber:87,favorRate:98,price:25.6,from:5}],C=["推荐","热销","折扣","夏日冰咖必喝榜","进店必喝","只喝美式","酷爽特调水果冰萃","经典奶咖","创意奶咖","瑞纳冰季","不喝咖啡","轻食甜品","热卖套餐"],j=class{constructor(e){this._choose=0,this._goods=e}get choose(){return this._choose}set choose(e){Math.round(e)===e&&(e<0||(this._choose=e))}get goods(){return this._goods}increase(){this._choose++}decrease(){this._choose>0&&this._choose--}get totalPrice(){return this.goods.price*this._choose}get isChoose(){return this._choose>0}},S=class{constructor(){this.deliveryThreshold=30,this.deliveryPrice=2.5,this.uiGoodsArr=A.map((e=>new j(e)))}get totalPrice(){let e=0;return this.uiGoodsArr.map((t=>{e+=t.totalPrice})),e+this.deliveryPrice}get totalChooseNum(){let e=0;return this.uiGoodsArr.map((t=>{e+=t.choose})),e}isChoose(e){return this.uiGoodsArr[e].isChoose}isGoodsInCar(){return this.totalChooseNum>0}isDelivery(){return this.totalPrice>=this.deliveryThreshold}increase(e){this.uiGoodsArr[e].increase()}decrease(e){this.uiGoodsArr[e].decrease()}},E=new class{constructor(){this.uiData=new S,this.doms={goodsContainer:document.querySelector(".goods-list"),deliveryPrice:document.querySelector(".footer-car-tip"),totalPrice:document.querySelector(".footer-car-total"),footerPay:document.querySelector(".footer-pay"),footerPayInnerSpan:document.querySelector(".footer-pay span"),footerCar:document.querySelector(".footer-car"),badge:document.querySelector(".footer-car-badge"),menu:document.querySelector(".menu"),pay:document.querySelector(".footer-pay a"),collection:document.querySelector("dialog")};const e=this.doms.footerCar.getBoundingClientRect();this.target={x:e.left+e.width/2,y:e.top+e.height/5},this.createHTML(),this.updateFooter(),this.listenEvent()}createHTML(){let e="";this.uiData.uiGoodsArr.map(((t,i)=>{const s=o(715)(`./${t.goods.pic}.png`);e+=`<div class="goods-item" from='${t.goods.from}'>\n      <img src="${s}" class="goods-pic" />\n      <div class="goods-info">\n        <h2 class="goods-title">${t.goods.title}</h2>\n        <p class="goods-desc">${t.goods.desc}</p>\n        <p class="goods-sell">\n          <span>月售 ${t.goods.sellNumber}</span>\n          <span>好评率 ${t.goods.favorRate}</span> \n        </p>\n        <div class="goods-confirm">\n          <p class="goods-price">\n            <span class="goods-price-unit">¥</span>\n            <span>${t.goods.price}</span>\n          </p>\n          <div class="goods-btns">\n            <i index='${i}' class="iconfont i-jianhao"></i>\n            <span>${t.choose}</span>\n            <i index='${i}' class="iconfont i-jiajianzujianjiahao"></i>\n          </div>\n        </div>\n      </div>\n    </div>`})),this.doms.goodsContainer.innerHTML=e;let t=document.createDocumentFragment();C.map(((e,o)=>{const i=document.createElement("div");i.classList.add("menu-item"),i.setAttribute("index",`${o}`),0===o&&i.classList.add("active");const s=document.createElement("span");s.textContent=e,s.setAttribute("index",`${o}`),i.appendChild(s),t.appendChild(i)})),this.doms.menu.appendChild(t)}updateGoodsItem(e){const t=this.doms.goodsContainer.children[e];this.uiData.isChoose(e)?t.classList.add("active"):t.classList.remove("active"),t.querySelector(".goods-btns span").textContent=this.uiData.uiGoodsArr[e].choose+""}updateFooter(){this.doms.deliveryPrice.textContent=`配送费为¥${this.uiData.deliveryPrice}`;const e=+this.uiData.totalPrice.toFixed(2);this.doms.totalPrice.textContent=e+"";const t=+(this.uiData.deliveryThreshold-e).toFixed(2);this.uiData.isDelivery()?this.doms.footerPay.classList.add("active"):(this.doms.footerPay.classList.remove("active"),this.doms.footerPayInnerSpan.textContent=`还差¥${t}起送`),this.uiData.isGoodsInCar()?(this.doms.footerCar.classList.add("active"),this.doms.badge.textContent=this.uiData.totalChooseNum+""):this.doms.footerCar.classList.remove("active")}carAnimate(){this.doms.footerCar.classList.add("animate")}addAnimate(e){const t=this.doms.goodsContainer.children[e].querySelector(".i-jiajianzujianjiahao").getBoundingClientRect(),o=t.left,i=t.top,s=document.createElement("div");s.className="add-to-car";const r=document.createElement("i");r.className="iconfont i-jiajianzujianjiahao",s.style.transform=`translateX(${o}px)`,r.style.transform=`translateY(${i}px)`,s.appendChild(r),document.body.appendChild(s),s.clientWidth,s.style.transform=`translate(${this.target.x}px)`,r.style.transform=`translateY(${this.target.y}px)`,s.addEventListener("transitionend",(()=>{s.remove(),this.carAnimate()}),{once:!0})}listenEvent(){this.doms.footerCar.addEventListener("animationend",(function(){this.classList.remove("animate")}))}increase(e){this.uiData.increase(e),this.updateGoodsItem(e),this.updateFooter(),this.addAnimate(e)}decrease(e){this.uiData.decrease(e),this.updateGoodsItem(e),this.updateFooter()}swithMenu(e){if(!this.doms.menu.children[e].classList.contains("active")){this.doms.menu.querySelector(".active").classList.remove("active"),this.doms.menu.children[e].classList.add("active");try{this.doms.goodsContainer.querySelector(`div[from='${e}']`).scrollIntoView({behavior:"smooth",block:"start"})}catch(e){throw new Error("暂无对应商品哦！")}}}};E.doms.goodsContainer.addEventListener("click",(e=>{const t=e.target,o=+t.getAttribute("index");t.classList.contains("i-jiajianzujianjiahao")?E.increase(o):t.classList.contains("i-jianhao")&&E.decrease(o)})),E.doms.menu.addEventListener("click",(e=>{const t=+e.target.getAttribute("index");E.swithMenu(t)})),E.doms.goodsContainer.addEventListener("scroll",(e=>{const t=document.documentElement.clientWidth,o=+document.elementFromPoint(t-10,0).getAttribute("from");E.swithMenu(o)})),E.doms.pay.addEventListener("click",(e=>{E.doms.collection.showModal()}))})()})();