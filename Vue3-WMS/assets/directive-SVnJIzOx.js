import{c as z,d as w,b as V,z as b,f as y,g as p,i as o,j as u,s as t,k as l,t as c,m as i,l as a,r as N,H as r,n as f,_ as S}from"./index-Dpah9Y0-.js";const k=z();function x(m,e){const{value:d}=e,_=k&&k.roles;if(d&&d instanceof Array){if(d.length>0){const v=d;_.some(n=>v.includes(n))||m.parentNode&&m.parentNode.removeChild(m)}}else throw new Error(`need roles! Like v-permission="['admin','editor']"`)}const P={mounted(m,e){x(m,e)},updated(m,e){x(m,e)}},A={style:{"margin-bottom":"15px"}},D=w({__name:"SwitchRoles",emits:["change"],setup(m,{emit:e}){const{t:d}=V(),_=e,v=z(),s=b(()=>v.roles),n=b({get(){return s.value[0]},set(O){v.changeRoles(O).then(()=>{_("change")})}});return(O,C)=>{const g=y("el-radio-button"),B=y("el-radio-group");return o(),p("div",null,[u("div",A,c(i(d)("permission.roles"))+": "+c(s.value),1),t(" "+c(i(d)("permission.switchRoles"))+" ",1),l(B,{modelValue:n.value,"onUpdate:modelValue":C[0]||(C[0]=R=>n.value=R)},{default:a(()=>[l(g,{label:"admin"}),l(g,{label:"dataOperator"}),l(g,{label:"accountant"})]),_:1},8,["modelValue"])])}}}),E={class:"app-container"},I={class:"permission-alert"},U={class:"permission-alert"},$={class:"permission-alert"},j={class:"permission-alert"},H={class:"permission-alert"},L={class:"permission-alert"},T=w({__name:"directive",setup(m){const e=P,d=N(1),_=()=>{d.value++};return(v,s)=>{const n=y("el-tag");return o(),p("div",E,[l(D,{onChange:_}),(o(),p("div",{key:d.value,style:{"margin-top":"30px"}},[u("div",null,[r((o(),p("span",I,[s[1]||(s[1]=t(" Only ")),l(n,{class:"permission-tag",size:"small"},{default:a(()=>s[0]||(s[0]=[t("admin")])),_:1,__:[0]}),s[2]||(s[2]=t("can see this "))])),[[i(e),["admin"]]]),r((o(),f(n,{class:"permission-sourceCode",type:"info"},{default:a(()=>s[3]||(s[3]=[t(`v-permission="['admin']"`)])),_:1,__:[3]})),[[i(e),["admin"]]])]),u("div",null,[r((o(),p("span",U,[s[5]||(s[5]=t(" Only ")),l(n,{class:"permission-tag",size:"small"},{default:a(()=>s[4]||(s[4]=[t("dataOperator")])),_:1,__:[4]}),s[6]||(s[6]=t("can see this "))])),[[i(e),["dataOperator"]]]),r((o(),f(n,{class:"permission-sourceCode",type:"info"},{default:a(()=>s[7]||(s[7]=[t(`v-permission="['dataOperator']"`)])),_:1,__:[7]})),[[i(e),["dataOperator"]]])]),u("div",null,[r((o(),p("span",$,[s[9]||(s[9]=t(" Only ")),l(n,{class:"permission-tag",size:"small"},{default:a(()=>s[8]||(s[8]=[t("accountant")])),_:1,__:[8]}),s[10]||(s[10]=t("can see this "))])),[[i(e),["accountant"]]]),r((o(),f(n,{class:"permission-sourceCode",type:"info"},{default:a(()=>s[11]||(s[11]=[t(`v-permission="['accountant']"`)])),_:1,__:[11]})),[[i(e),["accountant"]]])]),u("div",null,[r((o(),p("span",j,[s[14]||(s[14]=t(" Both ")),l(n,{class:"permission-tag",size:"small"},{default:a(()=>s[12]||(s[12]=[t("admin")])),_:1,__:[12]}),s[15]||(s[15]=t("and ")),l(n,{class:"permission-tag",size:"small"},{default:a(()=>s[13]||(s[13]=[t("dataOperator")])),_:1,__:[13]}),s[16]||(s[16]=t("can see this "))])),[[i(e),["admin","dataOperator"]]]),r((o(),f(n,{class:"permission-sourceCode",type:"info"},{default:a(()=>s[17]||(s[17]=[t(`v-permission="['admin','dataOperator']"`)])),_:1,__:[17]})),[[i(e),["admin","dataOperator"]]])]),u("div",null,[r((o(),p("span",H,[s[20]||(s[20]=t(" Both ")),l(n,{class:"permission-tag",size:"small"},{default:a(()=>s[18]||(s[18]=[t("admin")])),_:1,__:[18]}),s[21]||(s[21]=t("and ")),l(n,{class:"permission-tag",size:"small"},{default:a(()=>s[19]||(s[19]=[t("accountant")])),_:1,__:[19]}),s[22]||(s[22]=t("can see this "))])),[[i(e),["admin","accountant"]]]),r((o(),f(n,{class:"permission-sourceCode",type:"info"},{default:a(()=>s[23]||(s[23]=[t(`v-permission="['admin','accountant']"`)])),_:1,__:[23]})),[[i(e),["admin","accountant"]]])]),u("div",null,[r((o(),p("span",L,s[24]||(s[24]=[t("All roles can see this")]))),[[i(e),["admin","dataOperator","accountant"]]]),r((o(),f(n,{class:"permission-sourceCode",type:"info"},{default:a(()=>s[25]||(s[25]=[t(`v-permission="['admin','dataOperator','accountant']"`)])),_:1,__:[25]})),[[i(e),["admin","dataOperator","accountant"]]])])]))])}}}),F=S(T,[["__scopeId","data-v-d3b7c26a"]]);export{F as default};
