import{d as L,b as N,c as E,a as K,u as M,r as u,e as V,w as Q,o as z,f as p,g as A,i as q,j as s,k as r,l as c,t as n,m as t,n as Z,p as G,q as H,s as w,v as J,x as W,_ as X}from"./index-Dpah9Y0-.js";const Y=""+new URL("video-cover-DnzFSrfq.jpeg",import.meta.url).href,ee=""+new URL("night-Chp03Rco.mp4",import.meta.url).href,se={class:"login-container"},oe={class:"title-container"},te={class:"title"},ne={class:"title",style:{"margin-bottom":"10px"}},le={class:"svg-container"},ae={class:"svg-container"},re={style:{position:"relative"}},ie={class:"tips"},ue={style:{"margin-right":"63px"}},de={class:"tips"},pe={style:{"margin-right":"18px"}},ce={class:"tips"},me={style:{"margin-right":"32px"}},ve=L({__name:"index",setup(ge){const{t:o}=N(),S=E(),T=K(),B=M(),y=u(),h=u({}),d=V({username:"admin",password:"111111"}),f=u(),b=u(),_=u(),v=u(!1),F=V({username:[{required:!0,trigger:"blur",validator:(a,e,l)=>{J(e)?l():l(new Error("Please enter the correct user name"))}}],password:[{required:!0,trigger:"blur",validator:(a,e,l)=>{e.length<6?l(new Error("The password can not be less than 6 digits")):l()}}]}),m=u("password"),P=()=>{m.value==="password"?m.value="":m.value="password",W(()=>{_.value.focus()})},x=a=>{a&&a.validate(e=>{if(e)v.value=!0,S.login(d).then(()=>{T.push({path:y.value||"/",query:h.value}),v.value=!1}).catch(()=>{v.value=!1});else{console.log("error submit!!");return}})},g=u(!1),I=a=>{const{key:e}=a;g.value=!!e&&e.length===1&&e>="A"&&e<="Z"},O=a=>Object.keys(a).reduce((e,l)=>(l!=="redirect"&&(e[l]=a[l]),e),{});Q(B,a=>{const e=a.query;e&&(y.value=e.redirect,h.value=O(e))},{immediate:!0});const k=u(!1);return z(()=>{d.username===""?b.value.focus():d.password===""&&_.value.focus()}),(a,e)=>{const l=p("SvgIcon"),R=p("el-input"),U=p("el-form-item"),$=p("el-tooltip"),C=p("el-button"),j=p("el-form"),D=p("el-dialog");return q(),A("div",se,[e[10]||(e[10]=s("video",{poster:Y,loop:"",autoplay:"",muted:""},[s("source",{src:ee})],-1)),r(j,{ref_key:"loginFormRef",ref:f,model:d,rules:F,class:"login-form",autocomplete:"on","label-position":"left"},{default:c(()=>[s("div",oe,[s("h3",te,n(t(o)("login.name")),1),s("h3",ne,n(t(o)("login.loginForm")),1)]),r(U,{prop:"username"},{default:c(()=>[s("span",le,[r(l,{"icon-class":"user"})]),r(R,{ref_key:"usernameRef",ref:b,modelValue:d.username,"onUpdate:modelValue":e[0]||(e[0]=i=>d.username=i),placeholder:"Username",name:"username",type:"text",tabindex:"1",autocomplete:"on"},null,8,["modelValue"])]),_:1}),r($,{visible:g.value,"onUpdate:visible":e[4]||(e[4]=i=>g.value=i),content:"Caps lock is On",placement:"right"},{default:c(()=>[r(U,{prop:"password"},{default:c(()=>[s("span",ae,[r(l,{"icon-class":"password"})]),(q(),Z(R,{key:m.value,ref_key:"passwordRef",ref:_,modelValue:d.password,"onUpdate:modelValue":e[1]||(e[1]=i=>d.password=i),type:m.value,placeholder:"Password",name:"password",tabindex:"2",autocomplete:"on",onKeyup:[I,e[3]||(e[3]=G(i=>x(f.value),["enter"]))],onBlur:e[2]||(e[2]=i=>g.value=!1)},null,8,["modelValue","type"])),s("span",{class:"show-pwd",onClick:P},[r(l,{"icon-class":m.value==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1})]),_:1},8,["visible"]),r(C,{loading:v.value,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:e[5]||(e[5]=H(i=>x(f.value),["prevent"]))},{default:c(()=>[w(n(t(o)("login.login")),1)]),_:1},8,["loading"]),s("div",re,[s("div",ie,[s("span",ue,n(t(o)("login.username"))+" : admin",1),s("span",null,n(t(o)("login.password"))+" : "+n(t(o)("login.any")),1)]),s("div",de,[s("span",pe,n(t(o)("login.username"))+" : dataOperator",1),s("span",null,n(t(o)("login.password"))+" : "+n(t(o)("login.any")),1)]),s("div",ce,[s("span",me,n(t(o)("login.username"))+" : accountant",1),s("span",null,n(t(o)("login.password"))+" : "+n(t(o)("login.any")),1)]),r(C,{class:"thirdparty-button",type:"primary",onClick:e[6]||(e[6]=i=>k.value=!0)},{default:c(()=>[w(n(t(o)("login.thirdparty")),1)]),_:1})])]),_:1},8,["model","rules"]),r(D,{title:t(o)("login.thirdparty"),visible:k.value},{default:c(()=>[w(n(t(o)("login.thirdpartyTips"))+" ",1),e[7]||(e[7]=s("br",null,null,-1)),e[8]||(e[8]=s("br",null,null,-1)),e[9]||(e[9]=s("br",null,null,-1))]),_:1,__:[7,8,9]},8,["title","visible"])])}}}),ye=X(ve,[["__scopeId","data-v-97dd2a38"]]);export{ye as default};
