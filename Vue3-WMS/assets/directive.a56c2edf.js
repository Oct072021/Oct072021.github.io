import{c as k,d as w,b as R,B as C,k as g,n as t,f as d,m as p,t as v,j as o,x as e,g as r,i as n,r as V,J as i,q as m,_ as N}from"./index.3d7026b0.js";const x=k();function b(c,s){const{value:l}=s,u=x&&x.roles;if(l&&l instanceof Array){if(l.length>0){const _=l;u.some(a=>_.includes(a))||c.parentNode&&c.parentNode.removeChild(c)}}else throw new Error(`need roles! Like v-permission="['admin','editor']"`)}const S={mounted(c,s){b(c,s)},updated(c,s){b(c,s)}},P={style:{"margin-bottom":"15px"}},A=w({__name:"SwitchRoles",emits:["change"],setup(c,{emit:s}){const{t:l}=R(),u=s,_=k(),f=C(()=>_.roles),a=C({get(){return f.value[0]},set(y){_.changeRoles(y).then(()=>{u("change")})}});return(y,O)=>{const h=g("el-radio-button"),z=g("el-radio-group");return t(),d("div",null,[p("div",P,v(o(l)("permission.roles"))+": "+v(f.value),1),e(" "+v(o(l)("permission.switchRoles"))+" ",1),r(z,{modelValue:a.value,"onUpdate:modelValue":O[0]||(O[0]=B=>a.value=B)},{default:n(()=>[r(h,{label:"admin"}),r(h,{label:"dataOperator"}),r(h,{label:"accountant"})]),_:1},8,["modelValue"])])}}}),D={class:"app-container"},E={class:"permission-alert"},I={class:"permission-alert"},U={class:"permission-alert"},$={class:"permission-alert"},j={class:"permission-alert"},q={class:"permission-alert"},J=w({__name:"directive",setup(c){const s=S,l=V(1),u=()=>{l.value++};return(_,f)=>{const a=g("el-tag");return t(),d("div",D,[r(A,{onChange:u}),(t(),d("div",{key:l.value,style:{"margin-top":"30px"}},[p("div",null,[i((t(),d("span",E,[e(" Only "),r(a,{class:"permission-tag",size:"small"},{default:n(()=>[e("admin")]),_:1}),e("can see this ")])),[[o(s),["admin"]]]),i((t(),m(a,{class:"permission-sourceCode",type:"info"},{default:n(()=>[e(`v-permission="['admin']"`)]),_:1})),[[o(s),["admin"]]])]),p("div",null,[i((t(),d("span",I,[e(" Only "),r(a,{class:"permission-tag",size:"small"},{default:n(()=>[e("dataOperator")]),_:1}),e("can see this ")])),[[o(s),["dataOperator"]]]),i((t(),m(a,{class:"permission-sourceCode",type:"info"},{default:n(()=>[e(`v-permission="['dataOperator']"`)]),_:1})),[[o(s),["dataOperator"]]])]),p("div",null,[i((t(),d("span",U,[e(" Only "),r(a,{class:"permission-tag",size:"small"},{default:n(()=>[e("accountant")]),_:1}),e("can see this ")])),[[o(s),["accountant"]]]),i((t(),m(a,{class:"permission-sourceCode",type:"info"},{default:n(()=>[e(`v-permission="['accountant']"`)]),_:1})),[[o(s),["accountant"]]])]),p("div",null,[i((t(),d("span",$,[e(" Both "),r(a,{class:"permission-tag",size:"small"},{default:n(()=>[e("admin")]),_:1}),e("and "),r(a,{class:"permission-tag",size:"small"},{default:n(()=>[e("dataOperator")]),_:1}),e("can see this ")])),[[o(s),["admin","dataOperator"]]]),i((t(),m(a,{class:"permission-sourceCode",type:"info"},{default:n(()=>[e(`v-permission="['admin','dataOperator']"`)]),_:1})),[[o(s),["admin","dataOperator"]]])]),p("div",null,[i((t(),d("span",j,[e(" Both "),r(a,{class:"permission-tag",size:"small"},{default:n(()=>[e("admin")]),_:1}),e("and "),r(a,{class:"permission-tag",size:"small"},{default:n(()=>[e("accountant")]),_:1}),e("can see this ")])),[[o(s),["admin","accountant"]]]),i((t(),m(a,{class:"permission-sourceCode",type:"info"},{default:n(()=>[e(`v-permission="['admin','accountant']"`)]),_:1})),[[o(s),["admin","accountant"]]])]),p("div",null,[i((t(),d("span",q,[e("All roles can see this")])),[[o(s),["admin","dataOperator","accountant"]]]),i((t(),m(a,{class:"permission-sourceCode",type:"info"},{default:n(()=>[e(`v-permission="['admin','dataOperator','accountant']"`)]),_:1})),[[o(s),["admin","dataOperator","accountant"]]])])]))])}}});const T=N(J,[["__scopeId","data-v-ff5774ba"]]);export{T as default};
