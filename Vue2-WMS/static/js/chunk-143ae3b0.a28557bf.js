(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-143ae3b0"],{"42cf":function(e,s,a){},"5ac4":function(e,s,a){"use strict";a("42cf")},a99f:function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"app-container"},[a("switch-roles",{on:{change:e.handleRolesChange}}),a("div",{key:e.key,staticStyle:{"margin-top":"30px"}},[a("div",[a("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"permission-alert"},[e._v(" Only "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v("can see this ")],1),a("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['admin']\"")])],1),a("div",[a("span",{directives:[{name:"permission",rawName:"v-permission",value:["dataOperator"],expression:"['dataOperator']"}],staticClass:"permission-alert"},[e._v(" Only "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("dataOperator")]),e._v("can see this ")],1),a("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["dataOperator"],expression:"['dataOperator']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['dataOperator']\"")])],1),a("div",[a("span",{directives:[{name:"permission",rawName:"v-permission",value:["accountant"],expression:"['accountant']"}],staticClass:"permission-alert"},[e._v(" Only "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("accountant")]),e._v("can see this ")],1),a("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["accountant"],expression:"['accountant']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['accountant']\"")])],1),a("div",[a("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin","dataOperator"],expression:"['admin', 'dataOperator']"}],staticClass:"permission-alert"},[e._v(" Both "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v("and "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("dataOperator")]),e._v("can see this ")],1),a("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin","dataOperator"],expression:"['admin', 'dataOperator']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['admin','dataOperator']\"")])],1),a("div",[a("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin","accountant"],expression:"['admin', 'accountant']"}],staticClass:"permission-alert"},[e._v(" Both "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v("and "),a("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("accountant")]),e._v("can see this ")],1),a("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin","accountant"],expression:"['admin', 'accountant']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['admin','accountant']\"")])],1),a("div",[a("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin","dataOperator","accountant"],expression:"['admin', 'dataOperator', 'accountant']"}],staticClass:"permission-alert"},[e._v("All roles can see this")]),a("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin","dataOperator","accountant"],expression:"['admin', 'dataOperator', 'accountant']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['admin','dataOperator','accountant']\"")])],1)])],1)},i=[],n=(a("d3b7"),a("caad"),a("2532"),a("4360"));function r(e,s){var a=s.value,t=n["a"].getters&&n["a"].getters.roles;if(!(a&&a instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(a.length>0){var i=a,r=t.some((function(e){return i.includes(e)}));r||e.parentNode&&e.parentNode.removeChild(e)}}var o={inserted:function(e,s){r(e,s)},update:function(e,s){r(e,s)}},c=function(e){e.directive("permission",o)};window.Vue&&(window["permission"]=o,Vue.use(c)),o.install=c;var l=o;function m(e){if(e&&e instanceof Array&&e.length>0){var s=n["a"].getters&&n["a"].getters.roles,a=e,t=s.some((function(e){return a.includes(e)}));return t}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}var p=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[a("div",{staticStyle:{"margin-bottom":"15px"}},[e._v(e._s(e.$t("permission.roles"))+": "+e._s(e.roles))]),e._v(" "+e._s(e.$t("permission.switchRoles"))+" "),a("el-radio-group",{model:{value:e.switchRoles,callback:function(s){e.switchRoles=s},expression:"switchRoles"}},[a("el-radio-button",{attrs:{label:"admin"}}),a("el-radio-button",{attrs:{label:"dataOperator"}}),a("el-radio-button",{attrs:{label:"accountant"}})],1)],1)},d=[],v={computed:{roles:function(){return this.$store.getters.roles},switchRoles:{get:function(){return this.roles[0]},set:function(e){var s=this;this.$store.dispatch("user/changeRoles",e).then((function(){s.$emit("change")}))}}}},u=v,h=a("2877"),f=Object(h["a"])(u,p,d,!1,null,null,null),g=f.exports,_={name:"DirectivePermission",components:{SwitchRoles:g},directives:{permission:l},data:function(){return{key:1}},methods:{checkPermission:m,handleRolesChange:function(){this.key++}}},w=_,C=(a("5ac4"),Object(h["a"])(w,t,i,!1,null,"61fa57e2",null));s["default"]=C.exports}}]);